name: test-build-msvc
on: [push]
jobs:
  test-build:
    runs-on: windows-latest
    steps:
      - uses: actions/checkout@v3
      - uses: ilammy/msvc-dev-cmd@v1
        with:
          vsversion: "2022"
          sdk: "10.0.22621.0"
          toolkit: "14.38.33135"
        
      - name: Configure and Build
        run: |
          mkdir build
          cd build
          cmake -G "Visual Studio 17 2022" -A x64 ..
          cmake --build . --config Release
